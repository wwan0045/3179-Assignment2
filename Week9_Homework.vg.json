{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "width": 800,
    "height": 500,
    "title": { "text": "Tourism by Country, 2019" },
    "projection": {"type": "equirectangular"},
    "data": {
       "url": "https://raw.githubusercontent.com/wwan0045/3179-HomeworkWk9/main/world.json",
       "format": {"type": "topojson", "feature": "world.geo"}
       },
   "layer":[
        {
         "transform": [
           
           {"calculate": "'Data is not available in ' + datum.properties.name", "as": "note"}
         ],
         "mark": {"type": "geoshape", "fill": "lightgray", "stroke": "white"},
         "encoding": {
           "tooltip": {
             "field": "note"
           }
         }
       },
       
       {
       
       "transform":[
           {
               "lookup": "properties.name",
               "from": {
                   "data":{
                       "url":"https://raw.githubusercontent.com/wwan0045/3179-HomeworkWk9/main/globaltourism_2019.csv"},                    
                   "key":"Country",
                   "fields":["Tourism"]
               }
              
           },
           {"calculate": "datum.Tourism ","as":"Tourist Arrivals"}  
       ],
       "mark": {"type": "geoshape"},
       "encoding": {
           "color":{
               "field":"Tourist Arrivals",
               "type":"quantitative",
               "scale":{"type":"log"}
           },        
           "tooltip":[
               {"field": "properties.name", "type":"nominal","title":"Country"},
               {"field": "Tourism","type":"quantitative"}
           ]
           }
       }
   
   ]
   }
   